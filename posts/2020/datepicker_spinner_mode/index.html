<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">

    <meta name="author" content="tk-zzz">
    <meta name="description" content="DatePickerは特に設定をしないとカレンダー形式で表示される。
てっきり以前あったスピナーのものは使えなくなったと思っていたが、
調べてみるとまだ使えた。
class SpinnerDatePickerDialogFragment: DialogFragment() { @RequiresApi(Build.VERSION_CODES.N) override fun onCreateDialog(savedInstanceState: Bundle?): Dialog { return DatePickerDialog(requireContext(), R.style.MySpinnerDatePickerStyle, DatePickerDialog.OnDateSetListener { p0, p1, p2, p3 -&gt; }, 1,0,1) } } style.xmlにこれを定義。
&lt;style name=&#34;MySpinnerDatePickerStyle&#34; parent=&#34;android:Theme.Material.Dialog&#34;&gt; &lt;item name=&#34;android:datePickerStyle&#34;&gt;@style/MySpinnerDatePicker&lt;/item&gt; &lt;/style&gt; &lt;style name=&#34;MySpinnerDatePicker&#34; parent=&#34;android:Widget.Material.DatePicker&#34;&gt; &lt;item name=&#34;android:datePickerMode&#34;&gt;spinner&lt;/item&gt; &lt;/style&gt;  このようにするとSpinnerModeでDatePickerDialogを表示することができました。
xmlでの定義ではなく、プログラム側からの設定がしたかったので色々検索したがやり方が見つかりませんでした。
setSpinnerShownというメソッドがあったがAPI Level24でdeprecatedとなっている。
https://developer.android.com/reference/android/widget/DatePicker#setSpinnersShown(boolean)
 Calling this method has no effect when the R.styleable.DatePicker_datePickerMode attribute is set to calendar.
 https://developer.android.com/reference/android/R.styleable#DatePicker_datePickerMode
 public static final int DatePicker_datePickerMode">
    <meta name="keywords" content="android,kotlin,blog,developer,personal">

    

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="[Android]DatePickerDialogでSpinnerModeはまだ使える"/>
<meta name="twitter:description" content="DatePickerは特に設定をしないとカレンダー形式で表示される。
てっきり以前あったスピナーのものは使えなくなったと思っていたが、
調べてみるとまだ使えた。
class SpinnerDatePickerDialogFragment: DialogFragment() { @RequiresApi(Build.VERSION_CODES.N) override fun onCreateDialog(savedInstanceState: Bundle?): Dialog { return DatePickerDialog(requireContext(), R.style.MySpinnerDatePickerStyle, DatePickerDialog.OnDateSetListener { p0, p1, p2, p3 -&gt; }, 1,0,1) } } style.xmlにこれを定義。
&lt;style name=&#34;MySpinnerDatePickerStyle&#34; parent=&#34;android:Theme.Material.Dialog&#34;&gt; &lt;item name=&#34;android:datePickerStyle&#34;&gt;@style/MySpinnerDatePicker&lt;/item&gt; &lt;/style&gt; &lt;style name=&#34;MySpinnerDatePicker&#34; parent=&#34;android:Widget.Material.DatePicker&#34;&gt; &lt;item name=&#34;android:datePickerMode&#34;&gt;spinner&lt;/item&gt; &lt;/style&gt;  このようにするとSpinnerModeでDatePickerDialogを表示することができました。
xmlでの定義ではなく、プログラム側からの設定がしたかったので色々検索したがやり方が見つかりませんでした。
setSpinnerShownというメソッドがあったがAPI Level24でdeprecatedとなっている。
https://developer.android.com/reference/android/widget/DatePicker#setSpinnersShown(boolean)
 Calling this method has no effect when the R.styleable.DatePicker_datePickerMode attribute is set to calendar.
 https://developer.android.com/reference/android/R.styleable#DatePicker_datePickerMode
 public static final int DatePicker_datePickerMode"/>

    <meta property="og:title" content="[Android]DatePickerDialogでSpinnerModeはまだ使える" />
<meta property="og:description" content="DatePickerは特に設定をしないとカレンダー形式で表示される。
てっきり以前あったスピナーのものは使えなくなったと思っていたが、
調べてみるとまだ使えた。
class SpinnerDatePickerDialogFragment: DialogFragment() { @RequiresApi(Build.VERSION_CODES.N) override fun onCreateDialog(savedInstanceState: Bundle?): Dialog { return DatePickerDialog(requireContext(), R.style.MySpinnerDatePickerStyle, DatePickerDialog.OnDateSetListener { p0, p1, p2, p3 -&gt; }, 1,0,1) } } style.xmlにこれを定義。
&lt;style name=&#34;MySpinnerDatePickerStyle&#34; parent=&#34;android:Theme.Material.Dialog&#34;&gt; &lt;item name=&#34;android:datePickerStyle&#34;&gt;@style/MySpinnerDatePicker&lt;/item&gt; &lt;/style&gt; &lt;style name=&#34;MySpinnerDatePicker&#34; parent=&#34;android:Widget.Material.DatePicker&#34;&gt; &lt;item name=&#34;android:datePickerMode&#34;&gt;spinner&lt;/item&gt; &lt;/style&gt;  このようにするとSpinnerModeでDatePickerDialogを表示することができました。
xmlでの定義ではなく、プログラム側からの設定がしたかったので色々検索したがやり方が見つかりませんでした。
setSpinnerShownというメソッドがあったがAPI Level24でdeprecatedとなっている。
https://developer.android.com/reference/android/widget/DatePicker#setSpinnersShown(boolean)
 Calling this method has no effect when the R.styleable.DatePicker_datePickerMode attribute is set to calendar.
 https://developer.android.com/reference/android/R.styleable#DatePicker_datePickerMode
 public static final int DatePicker_datePickerMode" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://tk-zzz.github.io/posts/2020/datepicker_spinner_mode/" />
<meta property="article:published_time" content="2020-10-25T23:29:33+09:00" />
<meta property="article:modified_time" content="2020-10-25T23:29:33+09:00" />


    
      <base href="https://tk-zzz.github.io/posts/2020/datepicker_spinner_mode/">
    
    <title>
  [Android]DatePickerDialogでSpinnerModeはまだ使える · MEMO
</title>

    
      <link rel="canonical" href="https://tk-zzz.github.io/posts/2020/datepicker_spinner_mode/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://tk-zzz.github.io/css/coder.min.3219ef62ae52679b7a9c19043171c3cd9f523628c2a65f3ef247ee18836bc90b.css" integrity="sha256-MhnvYq5SZ5t6nBkEMXHDzZ9SNijCpl8&#43;8kfuGINryQs=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://tk-zzz.github.io/css/coder-dark.min.e78e80fc3a585a4d1c8fc7f58623b6ff852411e38431a9cd1792877ecaa160f6.css" integrity="sha256-546A/DpYWk0cj8f1hiO2/4UkEeOEManNF5KHfsqhYPY=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="https://tk-zzz.github.io/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://tk-zzz.github.io/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.70.0" />
    <script data-ad-client="ca-pub-3564313575417722" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </head>

  
  
    
  
  <body class="colorscheme-auto"
        onload=""
  >
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://tk-zzz.github.io/">
      MEMO
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://tk-zzz.github.io/posts/">Blog</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">[Android]DatePickerDialogでSpinnerModeはまだ使える</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2020-10-25T23:29:33&#43;09:00'>
                2020/10/25
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              1-minute read
            </span>
          </div>
          
          
        </div>
      </header>

      <div>
        
        <p>DatePickerは特に設定をしないとカレンダー形式で表示される。<br>
てっきり以前あったスピナーのものは使えなくなったと思っていたが、<br>
調べてみるとまだ使えた。</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">    <span style="color:#fff;font-weight:bold">class</span> SpinnerDatePickerDialogFragment: DialogFragment() {
        @RequiresApi(Build.VERSION_CODES.N)
        <span style="color:#fff;font-weight:bold">override</span> <span style="color:#fff;font-weight:bold">fun</span> onCreateDialog(savedInstanceState: Bundle?): Dialog {
            <span style="color:#fff;font-weight:bold">return</span> DatePickerDialog(requireContext(), R.style.MySpinnerDatePickerStyle,
                    DatePickerDialog.OnDateSetListener { p0, p1, p2, p3 -&gt;  },
                    <span style="color:#ff0;font-weight:bold">1</span>,<span style="color:#ff0;font-weight:bold">0</span>,<span style="color:#ff0;font-weight:bold">1</span>)
        }
    }
</code></pre></div><p>style.xmlにこれを定義。</p>
<div class="highlight"><pre style="color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml:style.xml" data-lang="xml:style.xml">    <span style="font-weight:bold">&lt;style</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;MySpinnerDatePickerStyle&#34;</span> <span style="color:#007f7f">parent=</span><span style="color:#0ff;font-weight:bold">&#34;android:Theme.Material.Dialog&#34;</span><span style="font-weight:bold">&gt;</span>
        <span style="font-weight:bold">&lt;item</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;android:datePickerStyle&#34;</span><span style="font-weight:bold">&gt;</span>@style/MySpinnerDatePicker<span style="font-weight:bold">&lt;/item&gt;</span>
    <span style="font-weight:bold">&lt;/style&gt;</span>

    <span style="font-weight:bold">&lt;style</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;MySpinnerDatePicker&#34;</span> <span style="color:#007f7f">parent=</span><span style="color:#0ff;font-weight:bold">&#34;android:Widget.Material.DatePicker&#34;</span><span style="font-weight:bold">&gt;</span>
        <span style="font-weight:bold">&lt;item</span> <span style="color:#007f7f">name=</span><span style="color:#0ff;font-weight:bold">&#34;android:datePickerMode&#34;</span><span style="font-weight:bold">&gt;</span>spinner<span style="font-weight:bold">&lt;/item&gt;</span>
    <span style="font-weight:bold">&lt;/style&gt;</span>
</code></pre></div><figure class="center">
    <img src="https://tk-zzz.github.io/images/Screenshot_1603634856.png" width="320" height="640"/> 
</figure>

<p>このようにするとSpinnerModeでDatePickerDialogを表示することができました。<br>
xmlでの定義ではなく、プログラム側からの設定がしたかったので色々検索したがやり方が見つかりませんでした。</p>
<p>setSpinnerShownというメソッドがあったがAPI Level24でdeprecatedとなっている。<br>
<a href="https://developer.android.com/reference/android/widget/DatePicker#setSpinnersShown(boolean)">https://developer.android.com/reference/android/widget/DatePicker#setSpinnersShown(boolean)</a></p>
<blockquote>
<p>Calling this method has no effect when the R.styleable.DatePicker_datePickerMode attribute is set to calendar.</p>
</blockquote>
<p><a href="https://developer.android.com/reference/android/R.styleable#DatePicker_datePickerMode">https://developer.android.com/reference/android/R.styleable#DatePicker_datePickerMode</a></p>
<blockquote>
<p>public static final int DatePicker_datePickerMode</p>
</blockquote>
<blockquote>
<p>Defines the look of the widget. Prior to the L release, the only choice was spinner. As of L, with the Material theme selected, the default layout is calendar, but this attribute can be used to force spinner to be used instead.</p>
<p>Must be one of the following constant values.
Constant	Value	Description
calendar	2	Date picker with calendar to select the date.
spinner	1	Date picker with spinner controls to select the date.</p>
</blockquote>
<blockquote>
<p>Constant Value: 16 (0x00000010)</p>
</blockquote>
<p>関連しそうなもののリファレンスはこのような感じだし、<br>
GoogleとしてはSpinnerModeはつかわずCalendarを黙って使ってほしいような意図を感じなくもない。</p>
<p>実装したソースはこちら
<a href="https://github.com/tk-zzz/DatepickerSpinnerModeExample">https://github.com/tk-zzz/DatepickerSpinnerModeExample</a></p>

      </div>


      <footer>
        


        
        
        
      </footer>
    </article>

    
  </section>

      </div>

      
  <footer class="footer">
    <section class="container">
      
      
        ©
        
          2019 -
        
        2021
         tk-zzz 
      
      
      
        
      
    </section>
  </footer>

    </main>

    

    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-166936168-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


    <script>
(function(f, a, t, h, o, m){
	a[h]=a[h]||function(){
		(a[h].q=a[h].q||[]).push(arguments)
	};
	o=f.createElement('script'),
	m=f.getElementsByTagName('script')[0];
	o.async=1; o.src=t; o.id='fathom-script';
	m.parentNode.insertBefore(o,m)
})(document, window, '//analytics.example.com/tracker.js', 'fathom');
fathom('set', 'siteId', 'ABCDE');
fathom('trackPageview');
</script>


  </body>

</html>
